:host {
	--_color-neutral: var(--neutral-color, hsl(0 0% 0%));
	--_color-neutral-5a: color-mix(in oklch, var(--_color-neutral) 5%, oklch(none none none / 0));
	--_color-neutral-7a: color-mix(in oklch, var(--_color-neutral) 7%, oklch(none none none / 0));
	--_color-neutral-10a: color-mix(in oklch, var(--_color-neutral) 10%, oklch(none none none / 0));
	--_color-neutral-20a: color-mix(in oklch, var(--_color-neutral) 20%, oklch(none none none / 0));

	--_accent-color: var(--accent-color, var(--_color-neutral-5a));

	--_selected-channel-background: var(--selected-channel-background, var(--_color-neutral-5a));
	--_selected-channel-shadow: 0 .1em .2em var(--_color-neutral-10a) inset, 0 0 0 2em var(--_color-neutral-7a) inset;
	--_border-width: var(--border-width, 1px);
	--_border-color: var(--border-color, var(--_color-neutral-20a));
	--_border-radius: var(--border-radius, .2em);

	display: flex;
	gap: .3em;
	align-items: baseline;
	inline-size: fit-content;
}

:host(:is(.compact, [compact])) {
	padding: .3em .5em;

	border: var(--_border-width) solid var(--_border-color);
	border-radius: var(--_border-radius);

	[part="space-picker"] {
		padding: initial;
		padding-inline-end: .4em;
		border-radius: 0;
		border: none;
		border-inline-end: var(--_border-width) solid var(--_border-color);
	}

	[part="picker"] {
		font: inherit;
		color: inherit;
		background: inherit;
		border: none;
		field-sizing: content;
		cursor: pointer;

		&:focus:not(:focus-visible) {
			outline: none;
		}
	}
}

:host(:not(.compact, [compact])) {
	[part="space-picker"] {
		font-weight: 600;

		&:not(:hover) {
			border-color: transparent;
		}
	}

	#channels {
		display: flex;
		inline-size: fit-content;

		border: var(--_border-width) solid var(--_border-color);
		border-radius: var(--_border-radius);

		font-size: 80%;

		label {
			display: grid;
			place-items: center;
			min-inline-size: 5ch;
			padding: .3em .5em;

			cursor: pointer;

			&:hover {
				background-color: var(--_accent-color);
			}

			& + & {
				border-inline-start: var(--_border-width) solid var(--_border-color);
			}

			&:has(:checked) {
				background: var(--_selected-channel-background);
				box-shadow: var(--_selected-channel-shadow);
			}
		}

		/* Visually hide the radio buttons */
		.sr-only {
			position: absolute;
			width: 1px;
			height: 1px;
			padding: 0;
			margin: -1px;
			overflow: hidden;
			clip: rect(0, 0, 0, 0);
			white-space: nowrap;
			border-width: 0;
		}
	}
}
